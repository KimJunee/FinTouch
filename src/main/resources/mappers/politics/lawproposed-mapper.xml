<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper	namespace="com.kh.realfinal.politics.model.mapper.LawProposedMapper">


	<resultMap type="LawProposed" id="LawProposedMap">
		<id property="billNo" column="BILL_NO"/>
		<result property="rstProposer" column="RST_PROPOSER"/>
		<result property="age" column="AGE"/>
		<result property="billName" column="BILL_NAME"/>
		<result property="proposer" column="PROPOSER"/>
		<result property="committee" column="COMMITTEE"/>
		<result property="proposeDt" column="PROPOSE_DT"/>
		<result property="procResult" column="PROC_RESULT"/>
		<result property="detailLink" column="DETAIL_LINK"/>
	</resultMap>


	<insert id="insertLawProposed" parameterType="LawProposed">
		INSERT INTO MNA_LEGISLATION(		
			MNA_LEGISLATION_NO, BILL_NO, RST_PROPOSER, AGE, BILL_NAME,
			PROPOSER, COMMITTEE, PROPOSE_DT, PROC_RESULT, DETAIL_LINK
		) VALUES(
			SEQ_MNA_LEGISLATION_NO.NEXTVAL, #{billNo}, #{rstProposer}, #{age}, #{billName},
			#{proposer}, #{committee}, #{proposeDt}, #{procResult}, #{detailLink}
		)
	</insert>
	
	
	<select id="selectLawProposed" resultMap="LawProposedMap" parameterType="string">
		SELECT MNA_LEGISLATION_NO, BILL_NO, RST_PROPOSER, AGE, BILL_NAME,
		PROPOSER, COMMITTEE, PROPOSE_DT, PROC_RESULT, DETAIL_LINK
		FROM MNA_LEGISLATION WHERE  RST_PROPOSER = #{name}
	</select>
	
  <select id="selectLawProposedList" resultMap="LawProposedMap" parameterType="string">
		SELECT MNA_LEGISLATION_NO, BILL_NO, RST_PROPOSER, AGE, BILL_NAME,
		PROPOSER, COMMITTEE, PROPOSE_DT, PROC_RESULT, DETAIL_LINK
		FROM MNA_LEGISLATION ORDER BY MNA_LEGISLATION_NO
	</select> 
	 
	<!-- 검색 후 갯수 
	<select id="selectLawProposedCount" resultType="int"  parameterType="map">
		SELECT COUNT(*)
		FROM BOARD B
		JOIN USER_T U ON(B.WRITER_NO = U.USER_NO)
		WHERE B.BOARD_STATUS = 'Y'
		<if test="no != null and !board_list_no.equals('')">
			AND B.BOARD_LIST_NO = #{board_list_no}
		</if>
	</select>
	-->
</mapper>