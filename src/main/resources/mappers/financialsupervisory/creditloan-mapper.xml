<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<!-- 매퍼를 쓸려면 이렇게 가야된다. -->
<!-- com.kh.realfinal.financialterm.model.mapper.FinancialtermMapper.insertFinancialterm -->
<mapper	namespace="com.kh.realfinal.financialsupervisory.model.mapper.CreditLoanMapper">
	<resultMap type="CreditLoan" id="CreditLoanResultMap">
		<id property="creditId" column="CREDITLOAN_ID"/>
		<result property="dclsMonth" column="CREDITLOAN_DCLS_MONTH"/>
		<result property="finCoNo" column="CREDITLOAN_FIN_CO_NO"/>
		<result property="korCoNm" column="CREDITLOAN_KOR_CO_NM"/>
		<result property="finPrdtCd" column="CREDITLOAN_FIN_PRDT_CD"/>
		<result property="finPrdtNm" column="CREDITLOAN_FIN_PRDT_NM"/>
		<result property="joinWay" column="CREDITLOAN_JOIN_WAY"/>
		<result property="crdtPrdtType" column="CREDITLOAN_CRDT_PRDT_TYPE"/>
		<result property="crdtPrdtTypeNm" column="CREDITLOAN_CRDT_PRDT_TYPE_NM"/>
		<result property="cbName" column="CREDITLOAN_CB_NAME"/>
		<result property="dclsStrtDay" column="CREDITLOAN_DCLS_STRT_DAY"/>
		<result property="dclsEndDay" column="CREDITLOAN_DCLS_END_DAY"/>
		<result property="finCoSubmDay" column="CREDITLOAN_FIN_CO_SUBM_DAY"/>
	</resultMap>
	
	<resultMap type="CreditLoan" id="CreditOptionListResultMap" extends="CreditLoanResultMap">
		<collection property="creditOptionList" javaType="arrayList" resultMap="creditOptionMap"/>
	</resultMap>
	
	<resultMap type="CreditLoanOption" id="creditOptionMap">
		<id property="creditNo" column="CREDITLOAN_NO"/>
		<result property="creId" column="CREDITLOAN_ID"/>
		<result property="crdtLendRateType" column="CREDITLOAN_CRDT_LEND_RATE_TYPE"/>
		<result property="crdtLendTypeNm" column="CREDITLOAN_CRDT_LEND_TYPE_NM"/>
		<result property="crdtGrad1" column="CREDITLOAN_CRDT_GRAD_1"/>
		<result property="crdtGrad4" column="CREDITLOAN_CRDT_GRAD_4"/>
		<result property="crdtGrad5" column="CREDITLOAN_CRDT_GRAD_5"/>
		<result property="crdtGrad6" column="CREDITLOAN_CRDT_GRAD_6"/>
		<result property="crdtGrad10" column="CREDITLOAN_CRDT_GRAD_10"/>
		<result property="crdtGrad11" column="CREDITLOAN_CRDT_GRAD_11"/>
		<result property="crdtGrad12" column="CREDITLOAN_CRDT_GRAD_12"/>
		<result property="crdtGrad13" column="CREDITLOAN_CRDT_GRAD_13"/>
		<result property="crdtGradAvg" column="CREDITLOAN_CRDT_GRAD_AVG"/>
	</resultMap>

	<insert id="insertCreditLoan"
		parameterType="CreditLoan">
		INSERT INTO CREDITLOAN(		
			CREDITLOAN_ID, CREDITLOAN_DCLS_MONTH, CREDITLOAN_FIN_CO_NO, CREDITLOAN_KOR_CO_NM, 
			CREDITLOAN_FIN_PRDT_CD, CREDITLOAN_FIN_PRDT_NM, CREDITLOAN_JOIN_WAY, 
			CREDITLOAN_CRDT_PRDT_TYPE, CREDITLOAN_CRDT_PRDT_TYPE_NM, CREDITLOAN_CB_NAME, 
			CREDITLOAN_DCLS_STRT_DAY, CREDITLOAN_DCLS_END_DAY, CREDITLOAN_FIN_CO_SUBM_DAY
		) VALUES(
			#{creditId}, #{dclsMonth}, #{finCoNo}, #{korCoNm}, 
			#{finPrdtCd}, #{finPrdtNm}, #{joinWay},
			#{crdtPrdtType}, #{crdtPrdtTypeNm}, #{cbName}, 
			#{dclsStrtDay}, #{dclsEndDay}, #{finCoSubmDay}
		)
	</insert>
	
	<insert id="insertCreditLoanOption"
		parameterType="CreditLoanOption">
		INSERT INTO CREDITLOAN_OPTION(
			CREDITLOAN_NO, CREDITLOAN_ID, CREDITLOAN_CRDT_LEND_RATE_TYPE, CREDITLOAN_CRDT_LEND_TYPE_NM, 
			CREDITLOAN_CRDT_GRAD_1, CREDITLOAN_CRDT_GRAD_4, CREDITLOAN_CRDT_GRAD_5, CREDITLOAN_CRDT_GRAD_6, 
			CREDITLOAN_CRDT_GRAD_10, CREDITLOAN_CRDT_GRAD_11, CREDITLOAN_CRDT_GRAD_12, CREDITLOAN_CRDT_GRAD_13, CREDITLOAN_CRDT_GRAD_AVG
		) VALUES(
			#{creditNo}, #{creId}, #{crdtLendRateType}, #{crdtLendTypeNm}, 
			#{crdtGrad1}, #{crdtGrad4}, #{crdtGrad5}, #{crdtGrad6}, 
			#{crdtGrad10}, #{crdtGrad11}, #{crdtGrad12}, #{crdtGrad13}, #{crdtGradAvg}
		)
	</insert>
</mapper>